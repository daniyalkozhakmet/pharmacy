(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{157:function(e,t,a){},229:function(e,t,a){},230:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(26),s=a.n(c),i=(a(157),a(240)),o=a(241),d=a(144),l=a(0),j=function(){return Object(l.jsx)(i.a,{children:Object(l.jsx)(o.a,{children:Object(l.jsx)(d.a,{className:"py-3 text-center",children:"CopyRight &copy,Pharmacy"})})})},u=a(249),p=a(250),b=a(246),h=a(16),O=a(10),x=a(13),m=a.n(x),f=a(15),g="USER_REQUEST_LOGIN",y="USER_SUCCESS_LOGIN",v="USER_FAIL_LOGIN",E="USER_LOGOUT",S="USER_REQUEST_REGISTER",C="USER_SUCCESS_REGISTER",I="USER_FAIL_REGISTER",_="USER_DETAIL_REQUEST",w="USER_DETAIL_SUCCESS",T="USER_DETAIL_FAIL",A="USER_DETAIL_RESET",k="USER_REQUEST_UPDATE",D="USER_SUCCESS_UPDATE",R="USER_FAIL_UPDATE",N="USER_UPDATE_RESET",L="USERS_REQUEST_ADMIN",P="USERS_SUCCESS_ADMIN",U="USERS_FAIL_ADMIN",B="USERS_RESET_ADMIN",M="USER_DELETE_REQUEST_ADMIN",G="USER_DELETE_SUCCESS_ADMIN",Y="USER_DELETE_FAIL_ADMIN",F="USER_GETBYID_FAIL_ADMIN",z="USER_GETBYID_SUCCESS_ADMIN",q="USER_GETBYID_REQUEST_ADMIN",Q="UPDATE_USER_REQUEST_ADMIN",J="UPDATE_USER_SUCCESS_ADMIN",V="UPDATE_USER_FAIL_ADMIN",$="CREATE_ORDER_REQUEST",H="CREATE_ORDER_SUCCESS",W="CREATE_ORDER_FAIL",K="CREATE_ORDER_RESET",X="ORDER_REQUEST_DETAIL",Z="ORDER_SUCCESS_DETAIL",ee="ORDER_FAIL_DETAIL",te="PAY_REQUEST_DETAIL",ae="PAY_SUCCESS_DETAIL",ne="PAY_FAIL_DETAIL",re="PAY_RESET_DETAIL",ce="GET_REQUEST_MYORDERS",se="GET_SUCCESS_MYORDERS",ie="GET_FAIL_MYORDERS",oe="GRESETEST_MYORDERS",de="GET_REQUEST_ORDERS",le="GET_SUCCESS_ORDERS",je="GET_FAIL_ORDERS",ue="GRESETEST_ORDERS",pe="MARK_REQUEST_DELIVERED",be="MARK_SUCCESS_DELIVERED",he="MARK_FAIL_DELIVERED",Oe="MARK_RESET_DELIVERED",xe="DELETE_ORDER_REQUEST",me="DELETE_ORDER_SUCCESS",fe="DELETE_ORDER_FAIL",ge=a(17),ye=a.n(ge),ve=function(e,t){return function(){var a=Object(f.a)(m.a.mark((function a(n){var r,c,s,i;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:g}),r={headers:{"Content-Type":"application/json"}},(c=new FormData).append("username",e),c.append("password",t),a.next=8,ye.a.post("api/users/login/",c,r);case 8:s=a.sent,i=s.data,localStorage.setItem("userLogin",JSON.stringify(i)),n({type:y,payload:i}),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),n({type:v,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 17:case"end":return a.stop()}}),a,null,[[0,14]])})));return function(e){return a.apply(this,arguments)}}()},Ee=function(e){return function(){var t=Object(f.a)(m.a.mark((function t(a,n){var r,c,s,i,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:q}),r=n(),c=r.userInfo.userInfo.token,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}},t.next=6,ye.a.get("/api/users/get1/".concat(e),s);case 6:i=t.sent,o=i.data,a({type:z,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:F,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},Se=a(14),Ce=a(248),Ie=a(146),_e=a(22),we=function(){var e=Object(n.useState)(""),t=Object(Se.a)(e,2),a=t[0],r=t[1],c=Object(_e.k)();return Object(l.jsxs)(Ce.a,{onSubmit:function(e){e.preventDefault(),a?c.push("/?keyword=".concat(a,"&pages=1")):c.push(c.location.pathname)},className:"my-1",style:{display:"flex",justifyContent:"space-between"},children:[Object(l.jsx)(Ce.a.Control,{type:"text",className:"mr-sm-2 ml-sm-5",name:"q",onChange:function(e){return r(e.target.value)}}),Object(l.jsx)(Ie.a,{type:"submit",variant:"outline-success",className:"p-2 mx-1",children:"Search"})]})},Te=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.userInfo})),a=t.userInfo;t.loading,t.error;return Object(l.jsx)("header",{children:Object(l.jsx)(u.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(l.jsxs)(i.a,{children:[Object(l.jsx)(h.LinkContainer,{to:"/",children:Object(l.jsxs)(u.a.Brand,{children:[Object(l.jsx)("i",{className:"fas fa-cannabis"})," Pharmafy","  "]})}),Object(l.jsx)(u.a.Toggle,{"aria-controls":"navbarScroll"}),Object(l.jsx)(u.a.Collapse,{id:"navbarScroll",children:Object(l.jsxs)("div",{className:"row justify-content-between align-items-center",style:{width:"100%"},children:[Object(l.jsx)("div",{className:"col-md-4 col-sm-12 py-sm-3 py-md-0",children:Object(l.jsx)(we,{})}),Object(l.jsx)("div",{className:"col-md-6 ",children:Object(l.jsx)("div",{className:"d-flex justify-content-end",children:Object(l.jsxs)(p.a,{className:"mr-auto my-2 my-lg-0",navbarScroll:!0,children:[Object(l.jsx)(h.LinkContainer,{to:"/cart",children:Object(l.jsxs)(p.a.Link,{children:[Object(l.jsx)("i",{className:"fas fa-shopping-cart"})," Cart"]})}),a&&a.name?Object(l.jsxs)(b.a,{title:a.name.split(" ")[0]?a.name.split(" ")[0]:a.name,id:"basic-nav-dropdown",children:[Object(l.jsx)(h.LinkContainer,{to:"/profile",className:"bg-light text-primary",children:Object(l.jsx)(b.a.Item,{children:"Profile"})}),Object(l.jsx)(b.a.Item,{onClick:function(t){e(function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:E}),t({type:A}),t({type:B}),t({type:ue}),localStorage.removeItem("userLogin"),localStorage.removeItem("userInfo");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Log out"})]}):Object(l.jsx)(h.LinkContainer,{to:"/login",children:Object(l.jsxs)(p.a.Link,{children:[Object(l.jsx)("i",{className:"fas fa-user"})," Sign in"]})}),a&&a.isAdmin&&Object(l.jsxs)(b.a,{title:"Admin",id:"basic-nav-dropdown",children:[Object(l.jsx)(h.LinkContainer,{to:"/admin",className:"bg-light text-primary",children:Object(l.jsx)(b.a.Item,{children:"Users"})}),Object(l.jsx)(h.LinkContainer,{to:"/admin/products",className:"bg-light text-primary",children:Object(l.jsx)(b.a.Item,{children:"Products"})}),Object(l.jsx)(h.LinkContainer,{to:"/admin/category",className:"bg-light text-primary",children:Object(l.jsx)(b.a.Item,{children:"Category&Brand"})}),Object(l.jsx)(h.LinkContainer,{to:"/admin/orders",className:"bg-light text-primary",children:Object(l.jsx)(b.a.Item,{children:"Orders"})})]})]})})})]})})]})})})},Ae=a(251),ke=a(27),De=function(e){var t=e.rating,a=e.numReviews,n="yellow";return Object(l.jsxs)("div",{children:[Object(l.jsx)("i",{style:{color:n},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"}),Object(l.jsx)("i",{style:{color:n},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"}),Object(l.jsx)("i",{style:{color:n},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"}),Object(l.jsx)("i",{style:{color:n},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"}),Object(l.jsx)("i",{style:{color:n},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"}),a&&Object(l.jsxs)("p",{style:{marginLeft:"5px",display:"inline-block"},children:[a," reviews"]})]})},Re=function(e){var t=e.product;return Object(l.jsx)("div",{children:Object(l.jsxs)(Ae.a,{className:"p-3 my-3 rounded",children:[Object(l.jsx)(ke.Link,{to:"/product/".concat(t._id),children:Object(l.jsx)(Ae.a.Img,{src:t.image,style:{objectFit:"contain",minHeight:"100%",maxHeight:"100%"}})}),Object(l.jsxs)(Ae.a.Body,{children:[Object(l.jsx)(ke.Link,{to:"/product/".concat(t._id),style:{textDecoration:"none"},children:Object(l.jsx)(Ae.a.Title,{as:"div",children:Object(l.jsx)("strong",{children:t.name})})}),Object(l.jsx)(Ae.a.Text,{as:"div",children:Object(l.jsxs)("p",{style:{marginBottom:"5px"},children:["Company : ",t.brand.name," Category : ",t.category.name]})}),Object(l.jsx)(Ae.a.Text,{as:"div",children:Object(l.jsx)(De,{style:{margin:"0"},rating:t.rating,numReviews:t.numReviews})}),Object(l.jsx)(Ae.a.Text,{as:"div",children:Object(l.jsxs)("h3",{style:{padding:"0",margin:"0"},children:["$",t.price]})})]})]})})},Ne="PRODUCTS_LIST_REQUEST",Le="PRODUCTS_LIST_SUCCESS",Pe="PRODUCTS_LIST_FAIL",Ue="PRODUCT_DETAIL_REQUEST",Be="PRODUCT_DETAIL_SUCCESS",Me="PRODUCT_DETAIL_FAIL",Ge="PRODUCT_DETAIL_RESET",Ye="PRODUCT_DELETE_REQUEST",Fe="PRODUCT_DELETE_SUCCESS",ze="PRODUCTS_DELETE_FAIL",qe="CREATE_REGUEST_PRODUCT",Qe="CREATE_SUCCESS_PRODUCT",Je="CREATE_FAIL_PRODUCT",Ve="CREATE_RESET_PRODUCT",$e="UPDATE_REQUEST_PRODUCT",He="UPDATE_SUCCESS_PRODUCT",We="UPDATE_FAIL_PRODUCT",Ke="UPDATE_RESET_PRODUCT",Xe="CREATE_REGUEST_REVIEW",Ze="CREATE_SUCCESS_REVIEW",et="CREATE_FAIL_REVIEW",tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(f.a)(m.a.mark((function t(a){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Ne}),t.next=4,ye.a.get("/api/products/".concat(e));case 4:n=t.sent,r=n.data,a({type:Le,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:Pe,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},at=function(e){return function(){var t=Object(f.a)(m.a.mark((function t(a){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Ue}),t.next=4,ye.a.get("/api/products/".concat(e));case 4:n=t.sent,r=n.data,a({type:Be,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:Me,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},nt=a(242),rt=function(){return Object(l.jsx)("div",{children:Object(l.jsx)(nt.a,{animation:"border",role:"status",className:"py-3",style:{height:"100px",width:"100px",display:"block",margin:"auto"},children:Object(l.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})},ct=a(243),st=function(e){var t=e.variant,a=e.children;return Object(l.jsx)(ct.a,{variant:t,children:a})},it=a(40),ot=a(252),dt=function(e){var t=e.pages,a=e.page,n=e.keyword,r=void 0===n?"":n,c=e.isAdmin,s=void 0!==c&&c,i=Object(_e.k)();return null!=i.location.search.split("&")[0].split("=")[1]&&(r=i.location.search.split("&")[0].split("=")[1]),Object(l.jsx)("div",{children:t>1&&Object(l.jsx)(ot.a,{children:Object(it.a)(Array(t).keys()).map((function(e){return Object(l.jsx)(h.LinkContainer,{to:s?"/admin/products/?keyword=".concat(r,"&page=").concat(e+1):"/?keyword=".concat(r,"&page=").concat(e+1),children:Object(l.jsx)(ot.a.Item,{active:e+1==a,children:e+1},e+1)},e+1)}))})})},lt="GET_REQUEST_BRAND",jt="GET_SUCCESS_BRAND",ut="GET_FAIL_BRAND",pt="CREATE_REQUEST_BRAND",bt="CREATE_SUCCESS_BRAND",ht="CREATE_FAIL_BRAND",Ot="DELETE_REQUEST_BRAND",xt="DELETE_SUCCESS_BRAND",mt="DELETE_FAIL_BRAND",ft=function(){return function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:lt}),e.next=4,ye.a.get("/api/products/brand");case 4:a=e.sent,n=a.data,t({type:jt,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:ut,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},gt="GET_REQUEST_CATEGORY",yt="GET_SUCCESS_CATEGORY",vt="GET_FAIL_CATEGORY",Et="CREATE_REQUEST_CATEGORY",St="CREATE_SUCCESS_CATEGORY",Ct="CREATE_FAIL_CATEGORY",It="DELETE_REQUEST_CATEGORY",_t="DELETE_SUCCESS_CATEGORY",wt="DELETE_FAIL_CATEGORY",Tt=function(){return function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:gt}),e.next=4,ye.a.get("/api/products/category");case 4:a=e.sent,n=a.data,t({type:yt,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:vt,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},At=function(e){var t=e.history,a=Object(O.b)(),r=Object(_e.k)(),c=t.location.search?t.location.search:"";Object(n.useEffect)((function(){a(ft()),a(Tt()),a(tt(c))}),[a,c]);var s=Object(O.c)((function(e){return e.productList})),i=Object(O.c)((function(e){return e.getBrand})),j=i.brand,u=(i.loading,i.error,Object(O.c)((function(e){return e.getCategory}))),p=u.category,h=(u.loading,u.error,s.loading),x=s.error,m=s.products,f=s.page,g=s.pages,y=function(e){r.push("/?keyword=".concat(e,"&pages=1"))};return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"row align-items-center py-3",children:[Object(l.jsx)("div",{className:"col-md col-sm-12",children:Object(l.jsx)("h1",{children:"Latest Products"})}),Object(l.jsx)("div",{className:"col-md-2 col-sm-6 ",children:Object(l.jsx)(b.a,{title:"Medicine Category",id:"basic-nav-dropdown",children:p.length>0&&p.map((function(e){return Object(l.jsx)(b.a.Item,{onClick:function(t){return y(e.name)},children:e.name},e._id)}))})}),Object(l.jsx)("div",{className:"col-md-2 col-sm-6 ",children:Object(l.jsx)(b.a,{title:"Medicine Brand",id:"basic-nav-dropdown",children:j.length>0&&j.map((function(e){return Object(l.jsx)(b.a.Item,{onClick:function(t){return y(e.name)},children:e.name},e._id)}))})})]}),Object(l.jsxs)("div",{className:"row",children:[h?Object(l.jsx)(rt,{}):x?Object(l.jsx)(st,{variant:"danger",children:x}):Object(l.jsx)(o.a,{children:0==m.length?Object(l.jsx)(st,{variant:"warning",children:"No match detected"}):m.map((function(e){return Object(l.jsx)(d.a,{sm:6,md:6,lg:4,xl:3,children:Object(l.jsx)(Re,{product:e})},e._id)}))}),Object(l.jsx)(dt,{page:f,pages:g})]})]})},kt=a(244),Dt=a(253),Rt="CART_ADD_ITEM",Nt="CART_REMOVE_ITEM",Lt="CART_ITEMS_RESET",Pt="SET_SHIPPING_ADDRESS",Ut="SET_PAYMENT_METHOD",Bt=function(e,t){return function(){var a=Object(f.a)(m.a.mark((function a(n,r){var c,s;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ye.a.get("/api/products/".concat(e));case 2:c=a.sent,s=c.data,n({type:Rt,payload:{product:s._id,name:s.name,price:s.price,image:s.image,countInStock:s.countInStock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(r().cartItems.cartItems));case 6:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},Mt=a(29),Gt=a.n(Mt),Yt=function(e){var t=e.review;return Object(l.jsx)("div",{children:t&&0!==t.length&&Object(l.jsxs)(Dt.a,{variant:"flush",children:[Object(l.jsx)("h3",{children:"Reviews"}),t.map((function(e){return Object(l.jsxs)(Dt.a.Item,{children:[Object(l.jsx)("p",{style:{padding:"0",margin:"0"},children:e.name}),Object(l.jsx)(De,{rating:e.rating}),Object(l.jsx)(Gt.a,{format:"YYYY-MM-DD",style:{fontSize:"12px"},children:e.createdAt}),Object(l.jsx)("p",{children:e.comment})]},e._id)}))]})})},Ft=function(e){var t=e.id,a=Object(O.b)(),r=Object(n.useState)(0),c=Object(Se.a)(r,2),s=c[0],i=c[1],o=Object(n.useState)(""),d=Object(Se.a)(o,2),j=d[0],u=d[1],p=Object(n.useState)(""),b=Object(Se.a)(p,2),h=b[0],x=b[1];return Object(l.jsxs)("div",{children:[""!=h&&Object(l.jsx)(st,{variant:"danger",children:h}),Object(l.jsxs)(Ce.a,{onSubmit:function(e){e.preventDefault(),0==s?x("Please provide rating"):(a(function(e,t){return function(){var a=Object(f.a)(m.a.mark((function a(n,r){var c,s,i,o,d;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:Xe}),c=r(),s=c.userInfo.userInfo.token,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}},a.next=6,ye.a.post("/api/products/".concat(t,"/review"),e,i);case 6:o=a.sent,d=o.data,n(at(t)),n({type:Ze,payload:d}),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),n({type:et,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 15:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e,t){return a.apply(this,arguments)}}()}({rating:s,comment:j},t)),console.log(s,j))},children:[Object(l.jsxs)(Ce.a.Group,{children:[Object(l.jsx)(Ce.a.Label,{children:"Rating"}),Object(l.jsxs)(Ce.a.Control,{as:"select",value:s,required:!0,onChange:function(e){return i(e.target.value)},children:[Object(l.jsx)("option",{children:"* Select Rating Below"}),Object(l.jsx)("option",{value:1,children:"1(Poor)"}),Object(l.jsx)("option",{value:2,children:"2(Bad)"}),Object(l.jsx)("option",{value:3,children:"3(Average)"}),Object(l.jsx)("option",{value:4,children:"4(Good)"}),Object(l.jsx)("option",{value:5,children:"5(Excellent)"})]})]}),Object(l.jsxs)(Ce.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(l.jsx)(Ce.a.Label,{children:"Comment"}),Object(l.jsx)(Ce.a.Control,{as:"textarea",value:j,onChange:function(e){return u(e.target.value)},rows:3})]}),Object(l.jsx)(Ie.a,{type:"submit",children:"Submit"})]})]})},zt=function(e){var t=e.match,a=e.history,r=e.location,c=Object(O.b)(),s=Object(O.c)((function(e){return e.userInfo})).userInfo,i=Object(O.c)((function(e){return e.productDetail})),j=i.product,u=i.error,p=i.loading;if(j)j.review;var b=Object(n.useState)(1),h=Object(Se.a)(b,2),x=h[0],m=h[1];Object(n.useEffect)((function(){c(at(t.params.id))}),[c]);var f=r.search?r.search.split("=")[1]:"";return Object(l.jsx)("div",{className:"py-3",children:p?Object(l.jsx)(rt,{}):u?Object(l.jsx)(st,{variant:"danger",children:u}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(ke.Link,{to:"/".concat(f),className:"btn btn-primary my-3",children:"Go Back"}),Object(l.jsxs)(o.a,{children:[Object(l.jsx)(d.a,{md:5,children:Object(l.jsx)(kt.a,{src:j&&j.image,alt:j&&j.name,fluid:!0})}),Object(l.jsx)(d.a,{md:4,children:Object(l.jsxs)(Dt.a,{variant:"flush",children:[Object(l.jsx)(Dt.a.Item,{children:Object(l.jsx)("h3",{children:j&&j.name})}),Object(l.jsx)(Dt.a.Item,{children:Object(l.jsx)(De,{rating:j&&j.rating,numReviews:j&&j.numReviews})}),Object(l.jsxs)(Dt.a.Item,{children:["Category:"," ",j&&j.category&&j.category.name]}),Object(l.jsxs)(Dt.a.Item,{children:["Brand: ",j&&j.brand&&j.brand.name]}),Object(l.jsxs)(Dt.a.Item,{children:["Price: $",j&&j.price]})]})}),Object(l.jsx)(d.a,{md:3,children:Object(l.jsxs)(Dt.a,{children:[Object(l.jsx)(Dt.a.Item,{children:Object(l.jsxs)(o.a,{children:[Object(l.jsx)(d.a,{children:"Price"}),Object(l.jsx)(d.a,{children:Object(l.jsxs)("strong",{children:["$",j&&j.price]})})]})}),Object(l.jsx)(Dt.a.Item,{children:Object(l.jsxs)(o.a,{children:[Object(l.jsx)(d.a,{children:"Status"}),Object(l.jsx)(d.a,{children:j&&j.countInStock>0?"In Stock":"Out of Stock"})]})}),j&&j.countInStock>0&&Object(l.jsx)(Dt.a.Item,{children:Object(l.jsxs)(o.a,{children:[Object(l.jsx)(d.a,{children:"Qty: "}),Object(l.jsx)(d.a,{children:Object(l.jsx)(Ce.a.Control,{as:"select",value:x,onChange:function(e){return m(e.target.value)},children:Object(it.a)(Array(j&&j.countInStock).keys()).map((function(e){return Object(l.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(l.jsx)(Dt.a.Item,{children:Object(l.jsx)(o.a,{children:Object(l.jsx)(Ie.a,{className:"btn btn-block",onClick:function(){c(Bt(t.params.id,x)),a.push("/cart/".concat(t.params.id,"?qty=").concat(x))},disabled:j&&0===j.countInStock,type:"button",children:"Add to Cart"})})})]})})]}),Object(l.jsxs)(o.a,{children:[Object(l.jsxs)(o.a,{children:[Object(l.jsxs)(d.a,{md:4,children:[Object(l.jsxs)("h3",{children:["Brand: ",j&&j.brand&&j.brand.name]}),Object(l.jsxs)("p",{children:["Company created in ",j&&j.brand&&Object(l.jsx)(Gt.a,{format:"YYYY-MM-DD",children:j.brand.foundation})]}),Object(l.jsx)("h5",{children:"Description"}),Object(l.jsx)("p",{children:j&&j.brand&&j.brand.description})]}),Object(l.jsxs)(d.a,{children:[Object(l.jsx)("h3",{children:"Description"}),Object(l.jsx)("p",{children:j&&j.description})]})]}),Object(l.jsxs)(o.a,{className:"py-4",children:[Object(l.jsx)(d.a,{md:4,children:s.name&&j&&Object(l.jsx)(Ft,{id:j._id})}),Object(l.jsx)(d.a,{children:j&&j.review&&Object(l.jsx)(Yt,{review:j.review})})]})]})]})})},qt=a(72),Qt=a(147),Jt=a(148),Vt=a(6),$t=Object(qt.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!0,products:[]});case Ye:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!0});case Le:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,products:t.payload.products,page:t.payload.page,pages:t.payload.pages});case Fe:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,products:e.products.filter((function(e){return e._id!==t.payload}))});case Pe:case ze:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,error:t.payload});default:return e}},productDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:case Xe:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!0,product:{}});case Be:return{loading:!1,product:t.payload};case Ze:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,message:t.payload});case Me:case et:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,error:t.payload});case Ge:return{};default:return e}},cartItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Rt:var a=t.payload,n=e.cartItems.find((function(e){return e.product==a.product}));return n?Object(Vt.a)(Object(Vt.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product==a.product?a:e}))}):Object(Vt.a)(Object(Vt.a)({},e),{},{cartItems:[].concat(Object(it.a)(e.cartItems),[a])});case Nt:return Object(Vt.a)(Object(Vt.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case Pt:return Object(Vt.a)(Object(Vt.a)({},e),{},{shippingAddress:t.payload});case Ut:return Object(Vt.a)(Object(Vt.a)({},e),{},{paymentMethod:t.payload});case Lt:return localStorage.removeItem("cartItems"),Object(Vt.a)(Object(Vt.a)({},e),{},{cartItems:[]});default:return e}},userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userInfo:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:case S:return{loading:!0};case y:case C:return{userInfo:t.payload};case v:case I:return{error:t.payload};case E:return{userInfo:{}};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!0});case w:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,user:t.payload});case T:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,error:t.payload});case A:return{user:{}};default:return e}},updateUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!0});case D:return Object(Vt.a)(Object(Vt.a)({},e),{},{success:!0,loading:!1,user:t.payload});case R:return Object(Vt.a)(Object(Vt.a)({},e),{},{error:t.payload});case N:return{};default:return e}},createOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return{loading:!0};case H:return{loading:!1,success:!0,order:t.payload};case W:return{loading:!1,error:t.payload};case K:return{};default:return e}},getOrderDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:case pe:return Object(Vt.a)({},e);case Z:case be:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,order:t.payload});case ee:case he:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,error:t.payload});case Oe:return{};default:return e}},orderToPaid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return{loading:!0};case ae:return{loading:!1,success:!0,order:t.payload};case ne:return{loading:!1,error:t.payload};case re:return{};default:return e}},getMyOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{myOrders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:case xe:return Object(Vt.a)(Object(Vt.a)({},e),{},{error:null,loading:!0});case me:return{loading:!1,myOrders:e.myOrders.filter((function(e){return e._id!=t.payload}))};case se:return{loading:!1,myOrders:t.payload};case ie:case fe:return{loading:!1,error:t.payload};case oe:return{};default:return e}},getUsersAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:case M:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!0});case P:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,users:t.payload});case G:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,users:e.users.filter((function(e){return e._id!==t.payload.id}))});case U:case Y:return Object(Vt.a)(Object(Vt.a)({},e),{},{error:t.payload});case B:return{};default:return e}},getUserByIdAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:case Q:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!0});case z:case J:return{loading:!1,user:t.payload};case F:case V:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,error:t.payload});default:return e}},createProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!0,product:{}});case Qe:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,product:t.payload});case Je:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,error:t.payload});case Ve:return{};default:return e}},getCategory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{category:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gt:case Et:case It:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!0});case yt:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,category:t.payload});case St:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,category:[].concat(Object(it.a)(e.category),[t.payload])});case _t:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,category:e.category.filter((function(e){return e._id!==t.payload}))});case vt:case Ct:case wt:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,error:t.payload});default:return e}},getBrand:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{brand:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lt:case pt:case Ot:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!0});case jt:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,brand:t.payload});case bt:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,brand:[].concat(Object(it.a)(e.brand),[t.payload])});case xt:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,brand:e.brand.filter((function(e){return e._id!==t.payload}))});case ut:case ht:case mt:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,error:t.payload});default:return e}},updateProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $e:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!0});case He:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,product:t.payload});case We:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,error:t.payload});case Ke:return{};default:return e}},getOrdersAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return{loading:!0};case le:return{loading:!1,orders:t.payload};case je:return{loading:!1,error:t.payload};case ue:return{};default:return e}}}),Ht=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],Wt=localStorage.getItem("userLogin")?JSON.parse(localStorage.getItem("userLogin")):{},Kt={cartItems:{cartItems:Ht,shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},paymentMethod:localStorage.getItem("paymentMethod")?JSON.parse(localStorage.getItem("paymentMethod")):{}},userInfo:{userInfo:Wt}},Xt=[Jt.a],Zt=Object(qt.createStore)($t,Kt,Object(Qt.composeWithDevTools)(qt.applyMiddleware.apply(void 0,Xt))),ea=function(e){var t=e.match,a=e.location,r=e.history,c=t.params.id,s=(a.search&&a.search.split("=")[1],Number(a.search.split("=")[1])),i=Object(O.b)(),j=Object(O.c)((function(e){return e.cartItems})).cartItems;Object(n.useEffect)((function(){c&&i(Bt(c,s))}),[i,c,s]);var u=function(e){i(function(e){return function(t,a){t({type:Nt,payload:e}),localStorage.setItem("cartItems",JSON.stringify(a().cartItems.cartItems))}}(e))};return Object(l.jsx)("div",{children:Object(l.jsxs)(o.a,{children:[Object(l.jsxs)(d.a,{md:8,children:[Object(l.jsx)("h1",{children:"Cart Products"}),0==j.length?Object(l.jsxs)(st,{variant:"info",children:["Cart is Empty ",Object(l.jsx)(ke.Link,{to:"/",children:"Go Shopping"})]}):Object(l.jsx)("div",{children:Object(l.jsx)(Dt.a,{variant:"flush",children:j.map((function(e){return Object(l.jsx)(Dt.a.Item,{children:Object(l.jsxs)(o.a,{children:[Object(l.jsx)(d.a,{md:2,children:Object(l.jsx)(kt.a,{src:e.image,fluid:!0})}),Object(l.jsx)(d.a,{md:3,children:Object(l.jsx)(ke.Link,{to:"/product/".concat(e.product,"?redirect=cart"),children:e.name})}),Object(l.jsxs)(d.a,{md:2,children:["$",e.price]}),Object(l.jsx)(d.a,{md:2,children:Object(l.jsx)(Ce.a.Control,{as:"select",value:e.qty,onChange:function(t){return i(Bt(e.product,Number(t.target.value)))},children:Object(it.a)(Array(e.countInStock).keys()).map((function(e){return Object(l.jsx)("option",{value:e+1,children:e+1},e+1)}))})}),Object(l.jsx)(d.a,{children:Object(l.jsx)(Ie.a,{variant:"light",onClick:function(t){return u(e.product)},children:Object(l.jsx)("i",{className:"fas fa-trash"})})})]})},e.product)}))})})]}),Object(l.jsx)(d.a,{md:4,className:"py-2",children:Object(l.jsx)(Ae.a,{children:Object(l.jsxs)(Dt.a,{variant:"flush",children:[Object(l.jsxs)(Dt.a.Item,{children:[Object(l.jsxs)("h2",{children:["Subtotal (",j.reduce((function(e,t){return e+Number(t.qty)}),0),") items"]}),"$ ",j.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)]}),Object(l.jsx)(Dt.a.Item,{children:Object(l.jsx)(o.a,{children:Object(l.jsx)(Ie.a,{type:"button",className:"btn btn-block",onClick:function(){r.push("/login?redirect=shipping")},disabled:0==j.length,children:"Proceed To Checkout"})})})]})})})]})})},ta=a(50),aa=function(e){var t=e.children;return Object(l.jsx)(i.a,{children:Object(l.jsx)(o.a,{className:"justify-content-center py-3",children:Object(l.jsx)(d.a,{className:"col-md-6",children:t})})})},na=function(e){var t=e.location,a=(e.match,e.history),r=Object(O.b)(),c=t.search?t.search.split("=")[1]:"/",s=Object(O.c)((function(e){return e.userInfo})),i=s.loading,o=s.error,d=s.userInfo;Object(n.useEffect)((function(){d&&d.username&&a.push(c)}),[a,d,c]);var j=Object(n.useState)({email:"",password:""}),u=Object(Se.a)(j,2),p=u[0],b=u[1],h=p.email,x=p.password,g=function(e){b(Object(Vt.a)(Object(Vt.a)({},p),{},Object(ta.a)({},e.target.name,e.target.value)))},y=function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r(ve(h,x));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)(aa,{children:[Object(l.jsx)("h1",{children:"Sign In"}),i&&Object(l.jsx)(rt,{}),o&&Object(l.jsx)(st,{variant:"danger",children:o}),Object(l.jsxs)(Ce.a,{onSubmit:y,children:[Object(l.jsxs)(Ce.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(l.jsx)(Ce.a.Label,{children:"Email"}),Object(l.jsx)(Ce.a.Control,{type:"text",name:"email",required:!0,placeholder:"Enter email",value:h,onChange:function(e){return g(e)}})]}),Object(l.jsxs)(Ce.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(l.jsx)(Ce.a.Label,{children:"Password"}),Object(l.jsx)(Ce.a.Control,{type:"password",name:"password",required:!0,placeholder:"Password",value:x,onChange:function(e){return g(e)}})]}),Object(l.jsx)(Ie.a,{variant:"primary",type:"submit",className:"mx-1",children:"Sign in"}),"Don't have an Account? ",Object(l.jsx)(ke.Link,{to:"/register",children:"Register"})]})]})},ra=function(e){var t=e.location,a=(e.match,e.history),r=Object(O.b)(),c=t.search?t.search.split("=")[1]:"/",s=Object(O.c)((function(e){return e.userInfo})),i=s.loading,o=s.error,d=s.userInfo,j=Object(n.useState)({password2:"",email:"",password:"",name:""}),u=Object(Se.a)(j,2),p=u[0],b=u[1],h=p.email,x=p.password,g=p.password2,y=p.name,v=Object(n.useState)(""),E=Object(Se.a)(v,2),_=E[0],w=E[1],T=function(e){b(Object(Vt.a)(Object(Vt.a)({},p),{},Object(ta.a)({},e.target.name,e.target.value)))};return Object(n.useEffect)((function(){d&&d.name&&a.push(c)}),[a,d,c]),Object(l.jsxs)(aa,{children:[Object(l.jsx)("h1",{children:"Sign Up"}),i&&Object(l.jsx)(rt,{}),_&&Object(l.jsx)(st,{variant:"danger",children:_}),o&&Object(l.jsx)(st,{variant:"danger",children:o}),Object(l.jsxs)(Ce.a,{onSubmit:function(e){e.preventDefault(),x!==g?(w("Password does not match"),console.log(_)):(console.log(p),r(function(e,t,a){return function(){var n=Object(f.a)(m.a.mark((function n(r){var c,s,i,o;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:S}),c={headers:{"Content-Type":"application/json"}},(s=new FormData).append("email",e),s.append("password",t),s.append("name",a),console.log(s),n.next=10,ye.a.post("api/users/register",s,c);case 10:i=n.sent,o=i.data,r({type:C,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),r({type:I,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 19:case"end":return n.stop()}}),n,null,[[0,16]])})));return function(e){return n.apply(this,arguments)}}()}(h,x,y)))},children:[Object(l.jsxs)(Ce.a.Group,{className:"mb-3",controlId:"formBasicName",children:[Object(l.jsx)(Ce.a.Label,{children:"Name"}),Object(l.jsx)(Ce.a.Control,{type:"text",name:"name",required:!0,placeholder:"Enter name",value:y,onChange:function(e){return T(e)}})]}),Object(l.jsxs)(Ce.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(l.jsx)(Ce.a.Label,{children:"Email"}),Object(l.jsx)(Ce.a.Control,{type:"text",name:"email",required:!0,placeholder:"Enter email",value:h,onChange:function(e){return T(e)}})]}),Object(l.jsxs)(Ce.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(l.jsx)(Ce.a.Label,{children:"Password"}),Object(l.jsx)(Ce.a.Control,{type:"password",name:"password",required:!0,placeholder:"Password",value:x,onChange:function(e){return T(e)}})]}),Object(l.jsxs)(Ce.a.Group,{className:"mb-3",controlId:"formBasicPassword2",children:[Object(l.jsx)(Ce.a.Label,{children:"Confirm Password"}),Object(l.jsx)(Ce.a.Control,{type:"password",name:"password2",required:!0,placeholder:"Confirm Password",value:g,onChange:function(e){return T(e)}})]}),Object(l.jsx)(Ie.a,{variant:"primary",type:"submit",className:"mx-1",children:"Sign up"}),"Already have an Account? ",Object(l.jsx)(ke.Link,{to:"/login",children:"Login"})]})]})},ca=a(245),sa=function(e){return function(){var t=Object(f.a)(m.a.mark((function t(a,n){var r,c,s,i,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:X}),r=n(),c=r.userInfo.userInfo.token,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}},t.next=6,ye.a.get("/api/orders/".concat(e),s);case 6:i=t.sent,o=i.data,console.log(o),a({type:Z,payload:o}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a({type:ee,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()},ia=function(){return function(){var e=Object(f.a)(m.a.mark((function e(t,a){var n,r,c,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ce}),n=a(),r=n.userInfo.userInfo.token,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}},e.next=6,ye.a.get("/api/orders/myorder",c);case 6:s=e.sent,i=s.data,t({type:se,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:ie,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()},oa=function(e){var t=e.location,a=(e.match,e.history),r=Object(O.c)((function(e){return e.getMyOrders})),c=r.loading,s=r.myOrders,j=r.error,u=Object(O.b)(),p=t.search?t.search.split("=")[1]:"/",b=Object(O.c)((function(e){return e.userInfo})),x=Object(O.c)((function(e){return e.updateUser})).success,g=b.loading,v=b.error,E=b.userInfo,S=Object(O.c)((function(e){return e.userDetails})).user,C=Object(n.useState)({password2:"",email:"",password:"",name:""}),I=Object(Se.a)(C,2),A=I[0],L=I[1],P=A.email,U=A.password,B=A.password2,M=A.name,G=Object(n.useState)(""),Y=Object(Se.a)(G,2),F=Y[0],z=Y[1],q=function(e){L(Object(Vt.a)(Object(Vt.a)({},A),{},Object(ta.a)({},e.target.name,e.target.value)))};var Q=function(e){window.confirm("Do you want to delete thsi order?")&&u(function(e){return function(){var t=Object(f.a)(m.a.mark((function t(a,n){var r,c,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:xe}),r=n(),c=r.userInfo.userInfo.token,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}},t.next=6,ye.a.delete("api/orders/".concat(e,"/delete"),s);case 6:a({type:me,payload:e}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:fe,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}(e)),console.log(e)};return Object(n.useEffect)((function(){var e;!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(E)?S.name?(L({password2:"",email:S.email,password:"",name:S.name}),x&&u({type:N}),u(ia())):(u((e="profile",function(){var t=Object(f.a)(m.a.mark((function t(a,n){var r,c,s,i,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),c=r.userInfo.userInfo.token,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}},t.prev=2,a({type:_}),t.next=6,ye.a.get("api/users/".concat(e),s);case 6:i=t.sent,o=i.data,a({type:w,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),a({type:T,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e,a){return t.apply(this,arguments)}}())),u(ia())):a.push("/login")}),[a,E,p,S,x]),Object(l.jsx)(i.a,{children:Object(l.jsxs)(o.a,{children:[Object(l.jsxs)(d.a,{md:3,children:[Object(l.jsx)("h2",{children:"User Profile"}),g&&Object(l.jsx)(rt,{}),F&&Object(l.jsx)(st,{variant:"danger",children:F}),v&&Object(l.jsx)(st,{variant:"danger",children:v}),Object(l.jsxs)(Ce.a,{onSubmit:function(e){e.preventDefault(),U!==B?z("Password does not match"):u(function(e,t,a){return function(){var n=Object(f.a)(m.a.mark((function n(r,c){var s,i,o,d,l;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:k}),s=c(),i=s.userInfo.userInfo.token,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)}},n.next=6,ye.a.put("api/users/profile/update",{name:e,email:t,password:a},o);case 6:d=n.sent,l=d.data,r({type:D,payload:l}),localStorage.setItem("userLogin",JSON.stringify(l)),r({type:y,payload:l}),r({type:w,payload:l}),localStorage.setItem("userInfo",JSON.stringify(l)),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(0),r({type:R,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 18:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(e,t){return n.apply(this,arguments)}}()}(A.name,A.email,A.password))},children:[Object(l.jsxs)(Ce.a.Group,{className:"mb-3",controlId:"formBasicName",children:[Object(l.jsx)(Ce.a.Label,{children:"Name"}),Object(l.jsx)(Ce.a.Control,{type:"text",name:"name",required:!0,placeholder:"Enter name",value:M,onChange:function(e){return q(e)}})]}),Object(l.jsxs)(Ce.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(l.jsx)(Ce.a.Label,{children:"Email"}),Object(l.jsx)(Ce.a.Control,{type:"text",name:"email",required:!0,placeholder:"Enter email",value:P,onChange:function(e){return q(e)}})]}),Object(l.jsxs)(Ce.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(l.jsx)(Ce.a.Label,{children:"Password"}),Object(l.jsx)(Ce.a.Control,{type:"password",name:"password",placeholder:"Password",value:U,onChange:function(e){return q(e)}})]}),Object(l.jsxs)(Ce.a.Group,{className:"mb-3",controlId:"formBasicPassword2",children:[Object(l.jsx)(Ce.a.Label,{children:"Confirm Password"}),Object(l.jsx)(Ce.a.Control,{type:"password",name:"password2",placeholder:"Confirm Password",value:B,onChange:function(e){return q(e)}})]}),Object(l.jsx)(Ie.a,{variant:"primary",type:"submit",className:"mx-1",children:"Update"})]})]}),Object(l.jsxs)(d.a,{md:9,children:[Object(l.jsx)("h2",{children:"Orders"}),c?Object(l.jsx)(rt,{}):j?Object(l.jsx)(st,{variant:"danger",children:j}):Object(l.jsxs)(ca.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"ID"}),Object(l.jsx)("th",{children:"Payment Method"}),Object(l.jsx)("th",{children:"Total Price"}),Object(l.jsx)("th",{children:"Delivered"}),Object(l.jsx)("th",{children:"Paid"}),Object(l.jsx)("th",{})]})}),Object(l.jsx)("tbody",{children:s.map((function(e){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e._id}),Object(l.jsx)("td",{children:e.paymentMethod}),Object(l.jsx)("td",{children:e.totalPrice}),Object(l.jsx)("td",{children:e.isDelivered?Object(l.jsx)("p",{className:"p-2 bg-success text-white",children:Object(l.jsx)(Gt.a,{format:"YYYY/MM/DD",children:e.deliveredAt})}):Object(l.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(l.jsx)("td",{children:e.isPaid?Object(l.jsx)("p",{className:"p-2 bg-success text-white",children:Object(l.jsx)(Gt.a,{format:"YYYY/MM/DD",children:e.payedAt})}):Object(l.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(l.jsxs)("td",{children:[Object(l.jsx)(h.LinkContainer,{to:"order/".concat(e._id),children:Object(l.jsx)(Ie.a,{className:"btn btn-info btn-sm",children:"View Order"})}),!e.isPaid&&Object(l.jsx)("i",{className:"fa fa-trash px-3","aria-hidden":"true",onClick:function(t){return Q(e._id)}})]})]},e._id)}))})]})]})]})})},da=function(e){var t=e.step1,a=e.step2,n=e.step3,r=e.step4;return Object(l.jsxs)(p.a,{className:"justify-content-center my-3",children:[t?Object(l.jsx)(p.a.Item,{children:Object(l.jsx)(h.LinkContainer,{to:"/login",children:Object(l.jsx)(p.a.Link,{children:"Login"})})}):Object(l.jsx)(p.a.Item,{children:Object(l.jsx)(h.LinkContainer,{to:"/login",children:Object(l.jsx)(p.a.Link,{disabled:!0,children:"Login"})})}),a?Object(l.jsx)(p.a.Item,{children:Object(l.jsx)(h.LinkContainer,{to:"/shipping",children:Object(l.jsx)(p.a.Link,{children:"Shipping"})})}):Object(l.jsx)(p.a.Item,{children:Object(l.jsx)(h.LinkContainer,{to:"/shipping",children:Object(l.jsx)(p.a.Link,{disabled:!0,children:"Shipping"})})}),n?Object(l.jsx)(p.a.Item,{children:Object(l.jsx)(h.LinkContainer,{to:"/payment",children:Object(l.jsx)(p.a.Link,{children:"Payment"})})}):Object(l.jsx)(p.a.Item,{children:Object(l.jsx)(h.LinkContainer,{to:"/payment",children:Object(l.jsx)(p.a.Link,{disabled:!0,children:"Payment"})})}),r?Object(l.jsx)(p.a.Item,{children:Object(l.jsx)(h.LinkContainer,{to:"/placeorder",children:Object(l.jsx)(p.a.Link,{children:"Place Order"})})}):Object(l.jsx)(p.a.Item,{children:Object(l.jsx)(h.LinkContainer,{to:"/placeorder",children:Object(l.jsx)(p.a.Link,{disabled:!0,children:"Place Order"})})})]})},la=function(e){var t=e.history,a=Object(O.b)(),r=Object(O.c)((function(e){return e.cartItems})).shippingAddress,c=Object(n.useState)({address:r.address?r.address:"",city:r.city?r.city:"",postalCode:r.postalCode?r.postalCode:"",country:r.country?r.country:""}),s=Object(Se.a)(c,2),i=s[0],o=s[1],d=i.address,j=i.city,u=i.postalCode,p=i.country,b=function(e){o(Object(Vt.a)(Object(Vt.a)({},i),{},Object(ta.a)({},e.target.name,e.target.value)))};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(da,{step1:!0,step2:!0}),Object(l.jsxs)(aa,{children:[Object(l.jsx)("h1",{children:"Shipping"}),Object(l.jsxs)(Ce.a,{onSubmit:function(e){var n;e.preventDefault(),a((n=i,function(e){e({type:Pt,payload:n}),localStorage.setItem("shippingAddress",JSON.stringify(n))})),t.push("/payment"),console.log(i)},children:[Object(l.jsxs)(Ce.a.Group,{className:"mb-3",children:[Object(l.jsx)(Ce.a.Label,{children:"Enter Address"}),Object(l.jsx)(Ce.a.Control,{type:"text",placeholder:"Adress...",value:d,onChange:function(e){return b(e)},name:"address"})]}),Object(l.jsxs)(Ce.a.Group,{className:"mb-3",children:[Object(l.jsx)(Ce.a.Label,{children:"Enter City"}),Object(l.jsx)(Ce.a.Control,{type:"text",placeholder:"City...",value:j,onChange:function(e){return b(e)},name:"city"})]}),Object(l.jsxs)(Ce.a.Group,{className:"mb-3",children:[Object(l.jsx)(Ce.a.Label,{children:"Enter PostalCode"}),Object(l.jsx)(Ce.a.Control,{type:"text",placeholder:"PostalCode...",value:u,onChange:function(e){return b(e)},name:"postalCode"})]}),Object(l.jsxs)(Ce.a.Group,{className:"mb-3",children:[Object(l.jsx)(Ce.a.Label,{children:"Enter Country"}),Object(l.jsx)(Ce.a.Control,{type:"text",placeholder:"Country...",value:p,onChange:function(e){return b(e)},name:"country"})]}),Object(l.jsx)(Ie.a,{type:"submit",className:"btn-primary py-3",children:"Continue"})]})]})]})},ja=function(e){var t=e.history,a=Object(O.c)((function(e){return e.cartItems})).paymentMethod,r=Object(n.useState)(a),c=Object(Se.a)(r,2),s=c[0],i=c[1],o=Object(O.b)();return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(da,{step1:!0,step2:!0,step3:!0}),Object(l.jsxs)(aa,{children:[Object(l.jsx)("h1",{children:"Payment Method"}),Object(l.jsxs)(Ce.a,{onSubmit:function(e){e.preventDefault(),o(function(e){return function(){var t=Object(f.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:Ut,payload:e}),localStorage.setItem("paymentMethod",JSON.stringify(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(s)),t.push("/placeorder")},children:[Object(l.jsx)(Ce.a.Check,{label:"PayPal",className:"py-3",value:"PayPal",onChange:function(e){i(e.target.value)}}),Object(l.jsx)(Ie.a,{type:"submit",children:"Continue"})]})]})]})},ua=function(e){var t=e.history,a=Object(O.b)(),r=Object(O.c)((function(e){return e.createOrder})),c=(r.loading,r.success),s=r.order,j=r.error,u=Object(O.c)((function(e){return e.cartItems})),p=u.cartItems,b=u.shippingAddress,x=u.paymentMethod;console.log(x),Object(n.useEffect)((function(){""==x&&t.push("/payment")}),[t]),u.countTotal=p.reduce((function(e,t){return e+t.qty}),0),u.priceTotal=p.reduce((function(e,t){return e+t.qty*t.price}),0),u.taxPrice=0,u.shippingPrice=p.priceTotal>100?0:20;return Object(n.useEffect)((function(){c&&(t.push("/order/".concat(s._id)),a({type:K}),a({type:Lt}))}),[c,t]),Object(l.jsxs)(i.a,{children:[Object(l.jsx)(da,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(l.jsxs)(o.a,{className:"py-3",children:[Object(l.jsxs)(d.a,{md:8,children:[Object(l.jsx)("h2",{children:"Place Order"}),Object(l.jsx)(Dt.a,{variant:"flush",children:Object(l.jsx)(Dt.a.Item,{children:Object(l.jsx)(o.a,{children:Object(l.jsx)(d.a,{children:Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Shipping Address: "}),b.address,"  ",b.city,"  ",b.country,"  ",b.postalCode]})})})})}),Object(l.jsx)("h3",{children:" Cart Items"}),Object(l.jsx)(Dt.a,{variant:"flush",children:0==p.length?Object(l.jsxs)(st,{variant:"info",children:["Cart is Empty!"," ",Object(l.jsx)(h.LinkContainer,{to:"/",children:"Go Back Shopping"})]}):p.map((function(e){return Object(l.jsx)(Dt.a.Item,{children:Object(l.jsxs)(o.a,{children:[Object(l.jsx)(d.a,{md:2,children:Object(l.jsx)(h.LinkContainer,{to:"/product/".concat(e.product,"?redirect=placeorder"),children:Object(l.jsx)(kt.a,{src:e.image,fluid:!0,rounded:!0})})}),Object(l.jsx)(d.a,{children:Object(l.jsx)(h.LinkContainer,{to:"/product/".concat(e.product,"?redirect=placeorder"),children:Object(l.jsx)(d.a,{md:4,children:e.name})})}),Object(l.jsxs)(d.a,{md:4,children:[e.qty," x $",e.price," = $",(e.price*e.qty).toFixed(2)]})]})},e.product)}))})]}),Object(l.jsxs)(d.a,{md:4,children:[Object(l.jsx)("h2",{children:"Summary"}),Object(l.jsx)(Ae.a,{children:Object(l.jsxs)(Dt.a,{variant:"flush",children:[Object(l.jsx)(Dt.a.Item,{children:Object(l.jsxs)(o.a,{children:[Object(l.jsx)(d.a,{children:"Total Count:"}),Object(l.jsx)(d.a,{children:u.countTotal})]})}),Object(l.jsx)(Dt.a.Item,{children:Object(l.jsxs)(o.a,{children:[Object(l.jsx)(d.a,{children:"Total Price:"}),Object(l.jsxs)(d.a,{children:["$",u.priceTotal.toFixed(2)]})]})}),Object(l.jsx)(Dt.a.Item,{children:Object(l.jsxs)(o.a,{children:[Object(l.jsx)(d.a,{children:"Shipping Price:"}),Object(l.jsxs)(d.a,{children:["$",u.shippingPrice]})]})}),Object(l.jsx)(Dt.a.Item,{children:Object(l.jsxs)(o.a,{children:[Object(l.jsx)(d.a,{children:"Payment Method:"}),Object(l.jsx)(d.a,{children:x})]})}),j&&Object(l.jsx)(Dt.a.Item,{children:Object(l.jsx)(o.a,{children:Object(l.jsx)(st,{variant:"danger",children:j})})}),Object(l.jsx)(Dt.a.Item,{children:Object(l.jsx)(o.a,{children:Object(l.jsx)(Ie.a,{className:"btn-block",onClick:function(e){var t={orderItems:p,paymentMethod:x,taxPrice:u.taxPrice,shippingPrice:u.shippingPrice,totalPrice:u.priceTotal,shippingAddress:b};a(function(e){return function(){var t=Object(f.a)(m.a.mark((function t(a,n){var r,c,s,i,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:$}),r=n(),c=r.userInfo.userInfo.token,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}},t.next=6,ye.a.post("api/orders/add",e,s);case 6:i=t.sent,o=i.data,a({type:H,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:W,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))},children:"Place Order"})})})]})})]})]})]})},pa=a(149),ba=function(e){var t=e.match.params.id,a=Object(O.b)(),r=Object(O.c)((function(e){return e.getOrderDetail})),c=r.loading,s=(r.orderItems,r.order),j=r.error,u=r.isDelivered,p=Object(O.c)((function(e){return e.userInfo})).userInfo.isAdmin,b=Object(O.c)((function(e){return e.orderToPaid})),x=b.loading,g=b.success;c||j||(s.countTotal=s.orderItem.reduce((function(e,t){return e+t.qty}),0));var y=Object(n.useState)(!1),v=Object(Se.a)(y,2),E=v[0],S=v[1];Object(n.useEffect)((function(){(!s||s._id!==Number(t)||g||u)&&a(sa(t)),s&&!s.isPaid&&(console.log("useEffect"),window.paypal?(console.log(window.paypal),S(!0)):(!function(){var e=document.createElement("script");e.type="text/javascript",e.src="https://www.paypal.com/sdk/js?client-id=AX3fY5gOy4KtZ5eSVyR3kJDq4WxmzFz1k4N0fte8pMPY7Yw--HF92IIj6Lamit2c9PxTN98HliMlh5xg",e.async=!0,e.onload=function(){S(!0),console.log("Script added")},document.body.appendChild(e)}(),S(!0)))}),[a,g,t,u,S,s]),Object(n.useEffect)((function(){s&&s._id===Number(t)&&!u||a(sa(t))}),[a,u,t,s]);var C=function(e){var t;a((t=e,function(){var e=Object(f.a)(m.a.mark((function e(a,n){var r,c,s,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:pe}),r=n(),c=r.userInfo.userInfo.token,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}},e.next=6,ye.a.get("/api/orders/delivered/".concat(t),s);case 6:i=e.sent,o=i.data,a({type:be,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a({type:he,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()))};return c?Object(l.jsx)(rt,{className:"py-1"}):j?Object(l.jsx)(st,{variant:"danger",className:"py-1",children:j}):Object(l.jsx)(i.a,{children:Object(l.jsxs)(o.a,{className:"py-3",children:[Object(l.jsxs)(d.a,{md:8,children:[Object(l.jsxs)("h1",{children:["Order ",s._id]}),Object(l.jsx)("h3",{children:"Shipping: "}),Object(l.jsx)(Dt.a,{variant:"flush",children:Object(l.jsx)(Dt.a.Item,{children:Object(l.jsx)(o.a,{children:Object(l.jsxs)(d.a,{children:[Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Name: "}),s.user.name]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Email: "}),s.user.email]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Shipping Address: "}),s.shippingAddress.address,"  ",s.shippingAddress.city,"  ",s.shippingAddress.country,"  ",s.shippingAddress.postalCode]}),s.isDelivered?Object(l.jsxs)(st,{variant:"success",children:["Delivered at"," ",Object(l.jsx)(Gt.a,{format:"YYYY/MM/DD",children:s.deliveredAt})]}):Object(l.jsx)(st,{variant:"warning",children:"Not Delivered"})]})})})}),Object(l.jsx)("h3",{children:"Payment Method"}),Object(l.jsx)(Dt.a,{variant:"flush",children:Object(l.jsx)(Dt.a.Item,{children:Object(l.jsx)(o.a,{children:Object(l.jsxs)(d.a,{children:[Object(l.jsx)("p",{children:s.paymentMethod})," ",s.isPaid?Object(l.jsxs)(st,{variant:"success",children:["Paid at"," ",Object(l.jsx)(Gt.a,{format:"YYYY/MM/DD",children:s.paidAt})]}):Object(l.jsx)(st,{variant:"warning",children:"Not Paid"})]})})})}),Object(l.jsx)("h3",{children:" Order Items"}),Object(l.jsx)(Dt.a,{variant:"flush",children:0==s.orderItem.length?Object(l.jsxs)(st,{variant:"info",children:["Order is Empty!"," ",Object(l.jsx)(h.LinkContainer,{to:"/",children:"Go Back Shopping"})]}):s.orderItem.map((function(e){return Object(l.jsx)(Dt.a.Item,{children:Object(l.jsxs)(o.a,{children:[Object(l.jsx)(d.a,{md:2,children:Object(l.jsx)(h.LinkContainer,{to:"/product/".concat(e.product,"?redirect=placeorder"),children:Object(l.jsx)(kt.a,{src:e.image,fluid:!0,rounded:!0})})}),Object(l.jsx)(h.LinkContainer,{to:"/product/".concat(e.product,"?redirect=placeorder"),children:Object(l.jsx)(d.a,{md:4,children:e.name})}),Object(l.jsxs)(d.a,{md:4,children:[e.qty," x $",e.price," = $",e.price*e.qty]})]})},e.product)}))})]}),Object(l.jsxs)(d.a,{md:4,children:[Object(l.jsx)("h2",{children:"Summary"}),Object(l.jsx)(Ae.a,{children:Object(l.jsxs)(Dt.a,{variant:"flush",children:[Object(l.jsx)(Dt.a.Item,{children:Object(l.jsxs)(o.a,{children:[Object(l.jsx)(d.a,{children:"Total Count:"}),Object(l.jsx)(d.a,{children:s.countTotal})]})}),Object(l.jsx)(Dt.a.Item,{children:Object(l.jsxs)(o.a,{children:[Object(l.jsx)(d.a,{children:"Total Price:"}),Object(l.jsxs)(d.a,{children:["$",s.totalPrice]})]})}),Object(l.jsx)(Dt.a.Item,{children:Object(l.jsxs)(o.a,{children:[Object(l.jsx)(d.a,{children:"Shipping Price:"}),Object(l.jsxs)(d.a,{children:["$",s.shippingPrice]})]})}),Object(l.jsx)(Dt.a.Item,{children:Object(l.jsxs)(o.a,{children:[Object(l.jsx)(d.a,{children:"Payment Method:"}),Object(l.jsx)(d.a,{children:s.paymentMethod})]})}),!s.isPaid&&Object(l.jsxs)(Dt.a.Item,{children:[x&&Object(l.jsx)(rt,{}),E?Object(l.jsx)(pa.PayPalButton,{amount:s.totalPrice,onSuccess:function(e){console.log("successPaymentHandler"),console.log(e),a(function(e,t){return function(){var a=Object(f.a)(m.a.mark((function a(n,r){var c,s,i,o,d;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:te}),c=r(),s=c.userInfo.userInfo.token,console.log(s),i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}},a.next=7,ye.a.put("/api/orders/".concat(e,"/pay"),t,i);case 7:o=a.sent,d=o.data,n({type:ae,payload:d}),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),n({type:ne,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 15:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e,t){return a.apply(this,arguments)}}()}(t,e))}}):Object(l.jsx)(rt,{})]}),s&&s.isPaid&&!s.isDelivered&&p&&Object(l.jsx)(Dt.a.Item,{children:Object(l.jsx)(o.a,{children:Object(l.jsx)(Ie.a,{onClick:function(e){return C(t)},children:"Mark as delivered"})})})]})})]})]})})},ha=function(e){var t=e.history,a=Object(O.b)(),r=Object(O.c)((function(e){return e.userInfo})).userInfo;Object(n.useEffect)((function(){a(function(){var e=Object(f.a)(m.a.mark((function e(t,a){var n,r,c,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:L}),n=a(),r=n.userInfo.userInfo.token,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}},e.next=6,ye.a.get("api/users",c);case 6:s=e.sent,i=s.data,t({type:P,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:U,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}())}),[a]),Object(n.useEffect)((function(){r&&r.isAdmin||t.push("/")}),[t,r]);var c=Object(O.c)((function(e){return e.getUsersAdmin})),s=c.users,i=c.loading,o=c.error,d=function(e){window.confirm("Do you want to delete this User?")&&a(function(e){return function(){var t=Object(f.a)(m.a.mark((function t(a,n){var r,c,s,i,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),c=r.userInfo.userInfo.token,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}},t.prev=2,a({type:M}),t.next=6,ye.a.delete("api/users/delete/".concat(e),s);case 6:i=t.sent,o=i.data,a({type:G,payload:{id:e,data:o}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),a({type:Y,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:"Pharmacy Users"}),i?Object(l.jsx)(rt,{}):o?Object(l.jsx)(st,{variant:"danger",children:o}):Object(l.jsxs)(ca.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"ID"}),Object(l.jsx)("th",{children:"Username"}),Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Email"}),Object(l.jsx)("th",{children:"Admin"}),Object(l.jsx)("th",{})]})}),Object(l.jsx)("tbody",{children:s&&s.map((function(e){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e._id}),Object(l.jsx)("td",{children:e.username}),Object(l.jsx)("td",{children:e.name}),Object(l.jsx)("td",{children:e.email}),Object(l.jsx)("td",{children:e.isAdmin?Object(l.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(l.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(l.jsx)("td",{children:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Ie.a,{variant:"light",className:"btn-sm mx-1",onClick:function(t){return d(e._id)},children:Object(l.jsx)("i",{className:"fa fa-trash"})}),Object(l.jsx)(h.LinkContainer,{to:"admin/user/".concat(e._id),children:Object(l.jsx)(Ie.a,{variant:"light",className:"btn-sm mx-1",children:Object(l.jsx)("i",{className:"fas fa-edit"})})})]})})]},e._id)}))})]})]})},Oa=function(e){var t=e.history,a=Object(O.b)(),r=Object(O.c)((function(e){return e.userInfo})).userInfo;Object(n.useEffect)((function(){r&&r.isAdmin||t.push("/")}),[t,r]);var c=Object(O.c)((function(e){return e.getUsersAdmin})),s=(c.users,c.loading),i=c.error,j=Object(O.c)((function(e){return e.productList})),u=j.products,p=j.page,b=j.pages,x=t.location.search?t.location.search:"";Object(n.useEffect)((function(){a(tt(x)),a({type:Ge})}),[a,x]);var g=function(e){window.confirm("Do you want to delete this Product?")&&a(function(e){return function(){var t=Object(f.a)(m.a.mark((function t(a,n){var r,c,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Ye}),r=n(),c=r.userInfo.userInfo.token,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}},t.next=6,ye.a.delete("/api/products/delete/".concat(e),s);case 6:t.sent.data,a({type:Fe,payload:e}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:ze,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return Object(l.jsxs)(l.Fragment,{children:[s?Object(l.jsx)(rt,{}):i?Object(l.jsx)(st,{variant:"danger",children:i}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(o.a,{className:"my-3 align-items-center",children:[Object(l.jsx)(d.a,{children:Object(l.jsx)("h1",{children:"Pharmacy Products"})}),Object(l.jsx)(d.a,{style:{display:"flex",justifyContent:"flex-end"},children:Object(l.jsx)(h.LinkContainer,{to:"/admin/products/create",children:Object(l.jsxs)(Ie.a,{className:"block",onClick:function(e){console.log("Create")},children:[Object(l.jsx)("i",{className:"fa fa-plus","aria-hidden":"true"})," Create Product"]})})})]}),Object(l.jsx)(o.a,{children:Object(l.jsx)(d.a,{children:Object(l.jsxs)(ca.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"ID"}),Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Brand"}),Object(l.jsx)("th",{children:"Category"}),Object(l.jsx)("th",{children:"Price"}),Object(l.jsx)("th",{children:"Count"}),Object(l.jsx)("th",{children:"Expire"}),Object(l.jsx)("th",{})]})}),Object(l.jsx)("tbody",{children:u&&u.map((function(e){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e._id}),Object(l.jsx)("td",{children:e.name}),Object(l.jsx)("td",{children:e.brand.name}),Object(l.jsx)("td",{children:e.category.name}),Object(l.jsxs)("td",{children:["$",e.price]}),e.countInStock<5?Object(l.jsxs)("td",{style:{color:"red",fontSize:"20px"},children:[e.countInStock,Object(l.jsx)("i",{style:{color:"red",marginLeft:"5px"},className:"fas fa-exclamation"})]}):Object(l.jsx)("td",{children:e.countInStock}),e.expiresAt?Math.abs(new Date-new Date(e.expiresAt))<432e6?Object(l.jsx)("td",{style:{color:"red",fontSize:"20px"},children:Object(l.jsx)(Gt.a,{format:"YYYY-MM-DD",style:{fontSize:"12px"},children:e.expiresAt})}):Object(l.jsx)("td",{children:Object(l.jsx)(Gt.a,{format:"YYYY-MM-DD",style:{fontSize:"12px"},children:e.expiresAt})}):Object(l.jsx)("td",{}),Object(l.jsx)("td",{children:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Ie.a,{variant:"light",className:"btn-sm mx-1",onClick:function(t){return g(e._id)},children:Object(l.jsx)("i",{className:"fa fa-trash"})}),Object(l.jsx)(h.LinkContainer,{to:"/admin/products/create/?id=".concat(e._id),children:Object(l.jsx)(Ie.a,{variant:"light",className:"btn-sm mx-1",children:Object(l.jsx)("i",{className:"fas fa-edit"})})})]})})]},e._id)}))})]})})})]}),Object(l.jsx)(dt,{page:p,pages:b,isAdmin:!0})]})},xa=function(e){var t=e.match,a=e.history,r=t.params.id,c=Object(O.c)((function(e){return e.userInfo})).userInfo,s=c.isAdmin,i=Object(O.c)((function(e){return e.getUserByIdAdmin})),o=i.loading,d=i.error,j=i.user,u=Object(O.b)();Object(n.useEffect)((function(){j.name?(E(j?j.email:""),x(j?j.name:""),_(!!j&&j.isAdmin)):u(Ee(r))}),[r,j,u]),Object(n.useEffect)((function(){u(Ee(r))}),[u,r]),Object(n.useEffect)((function(){(function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0})(c)&&(a.push("/"),s||a.push("/"))}),[c]);var p=Object(n.useState)(""),b=Object(Se.a)(p,2),h=b[0],x=b[1],g=Object(n.useState)(""),y=Object(Se.a)(g,2),v=y[0],E=y[1],S=Object(n.useState)(!1),C=Object(Se.a)(S,2),I=C[0],_=C[1];return Object(l.jsxs)(aa,{children:[Object(l.jsx)("h1",{children:"Edit User"}),o?Object(l.jsx)(rt,{}):d?Object(l.jsx)(st,{children:d}):Object(l.jsxs)(Ce.a,{onSubmit:function(e){e.preventDefault(),u(function(e,t){return function(){var a=Object(f.a)(m.a.mark((function a(n,r){var c,s,i,o,d;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:Q}),c=r(),s=c.userInfo.userInfo.token,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}},a.next=6,ye.a.put("/api/users/update/".concat(e),t,i);case 6:o=a.sent,d=o.data,n({type:J,payload:d}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:V,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()}(r,{name:h,email:v,isAdmin:I})),a.push("/admin")},children:[Object(l.jsxs)(Ce.a.Group,{className:"mb-3",controlId:"formBasicName",children:[Object(l.jsx)(Ce.a.Label,{children:"Name"}),Object(l.jsx)(Ce.a.Control,{type:"text",name:"name",placeholder:"Enter name",value:h,onChange:function(e){return x(e.target.value)}})]}),Object(l.jsxs)(Ce.a.Group,{className:"mb-3",controlId:"formBasicName",children:[Object(l.jsx)(Ce.a.Label,{children:"Email"}),Object(l.jsx)(Ce.a.Control,{type:"text",name:"email",placeholder:"Enter email",value:v,onChange:function(e){return E(e.target.value)}})]}),Object(l.jsx)(Ce.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(l.jsx)(Ce.a.Check,{type:"checkbox",name:"isAdmin",checked:I,onChange:function(e){return _(e.target.checked)},label:"Admin"})}),Object(l.jsx)(Ie.a,{variant:"primary",type:"submit",className:"mx-1",children:"Edit"})]})]})},ma=a(110),fa=a.n(ma),ga=function(e){var t=e.location,a=(e.match,e.history),r=t.search?t.search.split("=")[1]:null,c=Object(O.b)(),s=Object(O.c)((function(e){return e.userInfo})),i=s.isAdmin,o=Object(n.useState)(""),d=Object(Se.a)(o,2),j=d[0],u=d[1],p=Object(n.useState)(""),b=Object(Se.a)(p,2),h=b[0],x=b[1],g=Object(n.useState)(""),y=Object(Se.a)(g,2),v=y[0],E=y[1],S=Object(n.useState)(""),C=Object(Se.a)(S,2),I=(C[0],C[1],Object(n.useState)("")),_=Object(Se.a)(I,2),w=_[0],T=_[1],A=Object(n.useState)(""),k=Object(Se.a)(A,2),D=k[0],R=k[1],N=Object(n.useState)(""),L=Object(Se.a)(N,2),P=L[0],U=L[1],B=Object(n.useState)(!1),M=Object(Se.a)(B,2),G=M[0],Y=M[1],F=Object(n.useState)(null),z=Object(Se.a)(F,2),q=z[0],Q=z[1],J=Object(O.c)((function(e){return e.productDetail})),V=J.product;J.loading,J.error;Object(n.useEffect)((function(){null!==r&&c(at(r))}),[c,r]),Object(n.useEffect)((function(){J&&(U(V&&V.description),u(V&&V.name),E(V&&V.countInStock),x(V&&V.price),T(V&&V.brand&&V.brand._id),R(V&&V.category&&V.category._id))}),[c,J]);var $=Object(O.c)((function(e){return e.getCategory})),H=$.category,W=$.loading,K=$.error,X=Object(O.c)((function(e){return e.getBrand})),Z=X.brand,ee=X.loading,te=X.error;Object(n.useEffect)((function(){!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(s)?(c(Tt()),c(ft())):(a.push("/"),i||a.push("/"))}),[a,i,s,c]);var ae=function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n,c,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(n=new FormData).append("image",a),n.append("product_id",r),c={image:a,product_id:r},console.log(c),console.log(n),Y(!0),e.prev=8,s={headers:{"Content-Type":"multipart/form-data"}},e.next=12,ye.a.post("/api/products/create/uploadimage",n,s);case 12:i=e.sent,i.data,Y(!1),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),Y(!1);case 20:case"end":return e.stop()}}),e,null,[[8,17]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(e){var t=(e=e.toString()).split(" ");return t[3]+"-"+{Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"}[t[1]]+"-"+t[2]};return Object(l.jsxs)(aa,{children:[Object(l.jsx)("h1",{children:"Create Product"}),W||ee?Object(l.jsx)(rt,{}):K||te?Object(l.jsx)(st,{variant:"danger",children:K}):Object(l.jsxs)(Ce.a,{onSubmit:function(e){var t,n;e.preventDefault(),c(r?(t={name:j,category:D,brand:w,description:P,price:h,rating:"4",countInStock:v,expiresAt:null!=q?ne(q):null},n=r,function(){var e=Object(f.a)(m.a.mark((function e(a,r){var c,s,i,o,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:$e}),c=r(),s=c.userInfo.userInfo.token,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}},e.next=6,ye.a.put("/api/products/update/".concat(n),t,i);case 6:o=e.sent,d=o.data,a({type:He,payload:d}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a({type:We,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()):function(e){return function(){var t=Object(f.a)(m.a.mark((function t(a,n){var r,c,s,i,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:qe}),r=n(),c=r.userInfo.userInfo.token,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}},t.next=6,ye.a.post("/api/products/create",e,s);case 6:i=t.sent,o=i.data,a({type:Qe,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:Je,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}({name:j,category:D,brand:w,description:P,price:h,rating:"4",countInStock:v,expiresAt:null!=q?ne(q):null})),c({type:Ve}),a.push("/admin/products")},children:[Object(l.jsxs)(Ce.a.Group,{className:"mb-3",controlId:"formBasicName",children:[Object(l.jsx)(Ce.a.Label,{children:"Name"}),Object(l.jsx)(Ce.a.Control,{type:"text",name:"name",required:!0,placeholder:"Enter Name",defaultValue:j,onChange:function(e){return u(e.target.value)}})]}),Object(l.jsxs)(Ce.a.Group,{children:[Object(l.jsx)(Ce.a.Label,{children:"Brand"}),Object(l.jsxs)(Ce.a.Control,{as:"select",defaultValue:w,required:!0,onChange:function(e){return T(e.target.value)},children:[Object(l.jsx)("option",{children:"* Select Brand Below"}),Z&&Z.map((function(e){return Object(l.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(l.jsxs)(Ce.a.Group,{children:[Object(l.jsx)(Ce.a.Label,{children:"Expire Date"}),Object(l.jsx)(fa.a,{selected:q,defaultValue:q,onChange:function(e){return Q(e)}})]}),Object(l.jsxs)(Ce.a.Group,{children:[Object(l.jsx)(Ce.a.Label,{children:"Category"}),Object(l.jsxs)(Ce.a.Control,{as:"select",defaultValue:D,required:!0,onChange:function(e){return R(e.target.value)},children:[Object(l.jsx)("option",{children:"* Select Category Below"}),H&&H.map((function(e){return Object(l.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),r&&Object(l.jsxs)(Ce.a.Group,{className:"mb-3",controlId:"formBasicName",children:[Object(l.jsx)(Ce.a.Label,{children:"Image"}),Object(l.jsx)(Ce.a.File,{id:"image-file",label:"Browse",custom:!0,onChange:ae}),G&&Object(l.jsx)(rt,{})]}),Object(l.jsxs)(Ce.a.Group,{className:"mb-3",controlId:"formBasicName",children:[Object(l.jsx)(Ce.a.Label,{children:"Price"}),Object(l.jsx)(Ce.a.Control,{type:"text",name:"name",required:!0,placeholder:"Enter Price",defaultValue:h,onChange:function(e){return x(e.target.value)}})]}),Object(l.jsxs)(Ce.a.Group,{className:"mb-3",controlId:"formBasicName",children:[Object(l.jsx)(Ce.a.Label,{children:"Count"}),Object(l.jsx)(Ce.a.Control,{type:"text",name:"name",required:!0,placeholder:"Enter Stock",defaultValue:v,onChange:function(e){return E(e.target.value)}})]}),Object(l.jsxs)(Ce.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(l.jsx)(Ce.a.Label,{children:"Description"}),Object(l.jsx)(Ce.a.Control,{placeholder:"Write Description",onChange:function(e){return U(e.target.value)},defaultValue:P,as:"textarea",rows:3})]}),Object(l.jsx)(Ie.a,{variant:"primary",type:"submit",className:"mx-1",children:"Save"})]})]})},ya=a(247),va=function(e){var t=Object(O.b)(),a=Object(n.useState)(""),r=Object(Se.a)(a,2),c=r[0],s=r[1],o=function(e){var a;e.preventDefault(),t((a={name:c},function(){var e=Object(f.a)(m.a.mark((function e(t,n){var r,c,s,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Et}),r=n(),c=r.userInfo.userInfo.token,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}},e.next=6,ye.a.post("/api/products/create/category",a,s);case 6:i=e.sent,o=i.data,t({type:St,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Ct,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}())),console.log(c)};return Object(l.jsxs)(ya.a,Object(Vt.a)(Object(Vt.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",children:[Object(l.jsx)(ya.a.Header,{closeButton:!0,children:Object(l.jsx)(ya.a.Title,{id:"contained-modal-title-vcenter",children:"Add Category"})}),Object(l.jsx)(ya.a.Body,{className:"show-grid",children:Object(l.jsx)(i.a,{children:Object(l.jsx)(Ce.a,{onSubmit:o,children:Object(l.jsxs)(Ce.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(l.jsx)(Ce.a.Label,{children:"Category"}),Object(l.jsx)(Ce.a.Control,{type:"text",value:c,onChange:function(e){return s(e.target.value)},placeholder:"Enter category"})]})})})}),Object(l.jsx)(ya.a.Footer,{children:Object(l.jsx)(Ie.a,{onClick:function(t){return function(t){e.onHide(),o(t)}(t)},children:"Add"})})]}))},Ea=(a(228),function(e){var t=Object(O.b)(),a=Object(n.useState)(""),r=Object(Se.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)(""),d=Object(Se.a)(o,2),j=d[0],u=d[1],p=Object(n.useState)(""),b=Object(Se.a)(p,2),h=b[0],x=b[1],g=Object(n.useState)(new Date),y=Object(Se.a)(g,2),v=y[0],E=y[1],S=function(e){var t=(e=e.toString()).split(" ");return t[3]+"-"+{Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"}[t[1]]+"-"+t[2]},C=function(e){var a;e.preventDefault(),t((a={name:c,foundation:S(v),description:j,country:h},function(){var e=Object(f.a)(m.a.mark((function e(t,n){var r,c,s,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:pt}),r=n(),c=r.userInfo.userInfo.token,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}},e.next=6,ye.a.post("/api/products/create/brand",a,s);case 6:i=e.sent,o=i.data,t({type:bt,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:ht,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}())),console.log(c,S(v),j,h)};return Object(l.jsxs)(ya.a,Object(Vt.a)(Object(Vt.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",children:[Object(l.jsx)(ya.a.Header,{closeButton:!0,children:Object(l.jsx)(ya.a.Title,{id:"contained-modal-title-vcenter",children:"Add Brand"})}),Object(l.jsx)(ya.a.Body,{className:"show-grid",children:Object(l.jsx)(i.a,{children:Object(l.jsxs)(Ce.a,{onSubmit:C,children:[Object(l.jsxs)(Ce.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(l.jsx)(Ce.a.Label,{children:"Brand"}),Object(l.jsx)(Ce.a.Control,{type:"text",value:c,onChange:function(e){return s(e.target.value)},placeholder:"Enter Brand Name..."})]}),Object(l.jsxs)(Ce.a.Group,{children:[Object(l.jsx)(Ce.a.Label,{children:"Show the foundation of Brand"}),Object(l.jsx)(fa.a,{selected:v,value:v,onChange:function(e){return E(e)}})]}),Object(l.jsxs)(Ce.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(l.jsx)(Ce.a.Label,{children:"Country"}),Object(l.jsx)(Ce.a.Control,{type:"text",value:h,onChange:function(e){return x(e.target.value)},placeholder:"Enter Brand Country..."})]}),Object(l.jsxs)(Ce.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(l.jsx)(Ce.a.Label,{children:"Description"}),Object(l.jsx)(Ce.a.Control,{as:"textarea",value:j,rows:3,placeholder:"Enter Brand Description...",onChange:function(e){return u(e.target.value)}})]})]})})}),Object(l.jsx)(ya.a.Footer,{children:Object(l.jsx)(Ie.a,{onClick:function(t){return function(t){e.onHide(),C(t)}(t)},children:"Add"})})]}))}),Sa=function(e){var t=e.history,a=Object(n.useState)(!1),r=Object(Se.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)(!1),j=Object(Se.a)(i,2),u=j[0],p=j[1],b=Object(O.b)(),h=Object(O.c)((function(e){return e.getBrand})),x=h.brand,g=h.loading,y=h.error,v=Object(O.c)((function(e){return e.getCategory})),E=Object(O.c)((function(e){return e.userInfo})),S=E.isAdmin,C=v.category,I=v.loading,_=v.error;Object(n.useEffect)((function(){0==function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(E)?(b(ft()),b(Tt())):(t.push("/"),console.log("Redirect useEffect"),S||(t.push("/"),console.log("Redirect useEffect2")))}),[b,E]);var w=function(e){window.confirm("Are you sure you want to delete this Category?")&&b(function(e){return function(){var t=Object(f.a)(m.a.mark((function t(a,n){var r,c,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:It}),r=n(),c=r.userInfo.userInfo.token,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}},t.next=6,ye.a.delete("/api/products/delete/category/".concat(e),s);case 6:t.sent.data,a({type:_t,payload:e}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:wt,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))},T=function(e){window.confirm("Are you sure you want to delete this Brand?")&&b(function(e){return function(){var t=Object(f.a)(m.a.mark((function t(a,n){var r,c,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Ot}),r=n(),c=r.userInfo.userInfo.token,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}},t.next=6,ye.a.delete("/api/products/delete/brand/".concat(e),s);case 6:t.sent.data,a({type:xt,payload:e}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:mt,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return Object(l.jsx)("div",{children:g||I?Object(l.jsx)(rt,{}):_||y?Object(l.jsx)(st,{variant:"danger",children:y||_}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(o.a,{className:"py-3 gx-5",children:[Object(l.jsxs)(d.a,{md:4,children:[Object(l.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(l.jsx)("h2",{children:"Category"}),Object(l.jsxs)(Ie.a,{className:"btn-sm",onClick:function(){return s(!0)},children:[Object(l.jsx)("i",{className:"fa fa-plus","aria-hidden":"true"})," Add Category"]})]}),Object(l.jsx)(Dt.a,{variant:"flush",children:C.map((function(e){return Object(l.jsxs)(Dt.a.Item,{className:"d-flex justify-content-between",children:[e._id,"  ",e.name,Object(l.jsx)(Ie.a,{variant:"light",className:"btn-sm mx-1",onClick:function(t){return w(e._id)},children:Object(l.jsx)("i",{className:"fa fa-trash ","aria-hidden":"true"})})]},e._id)}))})]}),Object(l.jsxs)(d.a,{children:[Object(l.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(l.jsx)("h2",{children:"Brand"}),Object(l.jsxs)(Ie.a,{className:"btn-sm",onClick:function(){return p(!0)},children:[Object(l.jsx)("i",{className:"fa fa-plus","aria-hidden":"true"})," Add Brand"]})]}),Object(l.jsxs)(ca.a,{striped:!0,borderless:!0,hover:!0,size:"sm",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"ID"}),Object(l.jsx)("th",{children:"Brand"}),Object(l.jsx)("th",{children:"Foundation"}),Object(l.jsx)("th",{children:"Country"}),Object(l.jsx)("th",{})]})}),Object(l.jsx)("tbody",{children:x.map((function(e){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e._id}),Object(l.jsx)("td",{children:e.name}),Object(l.jsx)("td",{children:Object(l.jsx)(Gt.a,{format:"YYYY-MM-DD",children:e.foundation})}),Object(l.jsx)("td",{children:e.country}),Object(l.jsx)("td",{children:Object(l.jsx)(Ie.a,{variant:"light",className:"btn-sm mx-1",onClick:function(t){return T(e._id)},children:Object(l.jsx)("i",{className:"fa fa-trash ","aria-hidden":"true"})})})]},e._id)}))})]})]})]}),Object(l.jsxs)(o.a,{children:[Object(l.jsx)(va,{show:c,onHide:function(){return s(!1)}}),Object(l.jsx)(Ea,{show:u,onHide:function(){return p(!1)}})]})]})})},Ca=function(e){var t=e.history,a=Object(O.c)((function(e){return e.userInfo})).userInfo,r=Object(O.c)((function(e){return e.getOrdersAdmin})),c=r.loading,s=r.error,i=r.orders,o=a.isAdmin,d=Object(O.b)();function j(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}return Object(n.useEffect)((function(){j(a)||!j(a)&&!o?t.push("/"):d(function(){var e=Object(f.a)(m.a.mark((function e(t,a){var n,r,c,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:de}),n=a(),r=n.userInfo.userInfo.token,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}},e.next=6,ye.a.get("/api/orders/get",c);case 6:s=e.sent,i=s.data,console.log(i),t({type:le,payload:i}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:je,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}())}),[a,o,d]),Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Orders"}),c?Object(l.jsx)(rt,{}):s?Object(l.jsx)(st,{variant:"danger",children:s}):Object(l.jsxs)(ca.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"ID"}),Object(l.jsx)("th",{children:"User"}),Object(l.jsx)("th",{children:"Date"}),Object(l.jsx)("th",{children:"Paid"}),Object(l.jsx)("th",{children:"Delivered"}),Object(l.jsx)("th",{})]})}),Object(l.jsx)("tbody",{children:i&&i.map((function(e){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e._id}),Object(l.jsx)("td",{children:e.user.name}),Object(l.jsxs)("td",{children:[" ",Object(l.jsx)(Gt.a,{format:"YYYY-MM-DD",children:e.paidAt})]}),Object(l.jsxs)("td",{children:["$",e.totalPrice]}),Object(l.jsx)("td",{children:e.isDelivered?Object(l.jsx)(Gt.a,{format:"YYYY-MM-DD",children:e.deliveredAt}):Object(l.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(l.jsx)("td",{children:Object(l.jsx)(h.LinkContainer,{to:"/order/".concat(e._id),children:Object(l.jsx)(Ie.a,{className:"btn-sm",children:"Details"})})})]},e._id)}))})]})]})};var Ia=function(){return Object(l.jsx)(O.a,{store:Zt,children:Object(l.jsxs)(ke.HashRouter,{children:[Object(l.jsx)(Te,{}),Object(l.jsx)(i.a,{children:Object(l.jsxs)("main",{children:[Object(l.jsx)(_e.d,{path:"/admin",exact:!0,component:ha}),Object(l.jsx)(_e.d,{path:"/admin/products",exact:!0,component:Oa}),Object(l.jsx)(_e.d,{path:"/admin/orders",exact:!0,component:Ca}),Object(l.jsx)(_e.d,{path:"/admin/category",exact:!0,component:Sa}),Object(l.jsx)(_e.d,{path:"/admin/products/create/:id?",exact:!0,component:ga}),Object(l.jsx)(_e.d,{path:"/admin/user/:id",exact:!0,component:xa}),Object(l.jsx)(_e.d,{path:"/",exact:!0,component:At}),Object(l.jsx)(_e.d,{path:"/login",exact:!0,component:na}),Object(l.jsx)(_e.d,{path:"/shipping",exact:!0,component:la}),Object(l.jsx)(_e.d,{path:"/payment",exact:!0,component:ja}),Object(l.jsx)(_e.d,{path:"/placeorder",exact:!0,component:ua}),Object(l.jsx)(_e.d,{path:"/order/:id",exact:!0,component:ba}),Object(l.jsx)(_e.d,{path:"/profile",exact:!0,component:oa}),Object(l.jsx)(_e.d,{path:"/register",exact:!0,component:ra}),Object(l.jsx)(_e.d,{path:"/product/:id",exact:!0,component:zt}),Object(l.jsx)(_e.d,{path:"/cart/:id?",exact:!0,component:ea})]})}),Object(l.jsx)(j,{})]})})},_a=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,254)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};a(229);s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(Ia,{})}),document.getElementById("root")),_a()}},[[230,1,2]]]);
//# sourceMappingURL=main.eb8a305e.chunk.js.map